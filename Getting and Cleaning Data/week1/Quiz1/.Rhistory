x <- list(a = matrix(1:4, 2, 2))
x
first <- lapply(x, function(ent){x[,1]})
first <- lapply(x, function(ent){x[1,]})
first <- lapply(x, function(ent){ent[1,]})
first
first <- lapply(x, function(ent){ent[,1]})
first
lapplyWithMatrix <- function() {
x <- list(a = matrix(1:4, 2, 2))
## extract the first column
firstCol <- lapply(x, function(ent){ent[,1]})
## extract the first row
firstRow <- lapply(x, function(ent){ent[1,]})
print("First Row: " firstRow)
print("First Col: " firstCol)
}
lapplyWithMatrix <- function() {
x <- list(a = matrix(1:4, 2, 2))
## extract the first column
firstCol <- lapply(x, function(ent){ent[,1]})
## extract the first row
firstRow <- lapply(x, function(ent){ent[1,]})
message(sprint("First Row: %s ", firstRow))
mesasge(sprint("First Col: %s ", firstCol))
}
lapplyWithMatrix()
lapplyWithMatrix <- function() {
x <- list(a = matrix(1:4, 2, 2))
## extract the first column
firstCol <- lapply(x, function(ent){ent[,1]})
## extract the first row
firstRow <- lapply(x, function(ent){ent[1,]})
message(sprintf("First Row: %s ", firstRow))
mesasge(sprintf("First Col: %s ", firstCol))
}
lapplyWithMatrix()
lapplyWithMatrix <- function() {
x <- list(a = matrix(1:4, 2, 2))
## extract the first column
firstCol <- lapply(x, function(ent){ent[,1]})
## extract the first row
firstRow <- lapply(x, function(ent){ent[1,]})
message(sprintf("First Row: %s ", firstRow))
message(sprintf("First Col: %s ", firstCol))
}
lapplyWithMatrix()
message(sprintf("Matix: %s", x))
x <- list(a = matrix(1:4, 2, 2))
x
message(sprintf("Matix: %s", x))
message(sprintf( x))
lapplyWithMatrix <- function() {
x <- list(a = matrix(1:4, 2, 2))
## extract the first column
firstCol <- lapply(x, function(ent){ent[,1]})
## extract the first row
firstRow <- lapply(x, function(ent){ent[1,]})
message(sprintf("First Row: %s ", firstRow))
message(sprintf("First Col: %s ", firstCol))
x
}
lapplyWithMatrix()
firstCol <- lapply(x, function(elt)elt[,1])
firstCol
lapplyWithMatrix <- function() {
x <- list(a = matrix(1:4, 2, 2))
## extract the first column
firstCol <- lapply(x, function(elt)elt[,1])
## extract the first row
firstRow <- lapply(x, function(elt)elt[1,])
message(sprintf("First Row: %s ", firstRow))
message(sprintf("First Col: %s ", firstCol))
x
}
lapplyWithMatrix()
firstCol
library(datasets)
data("iris")
?iris
colnames(iris)
x <- iris[1,]
y <- lapply(x, mean)
x
x <- iris[,1]
x
y <- lapply(x, mean)
y
y <- sapply(x, mean)
y
colnames(iris)
irix[3]
iris[,3]
iris[,5]
sub <- subset(iris[,5] == "virginica")
sub <- subset(iris, Species == "virginica")
sub
apply(sub[,1], mean)
x <- lapply(sub[,1], mean)
x
x <- sapply(sub[,1], mean)
x
mean(x)
sub
rowMeans(sub[,1:4])
apply(sub[,1:4], 1, mean)
apply(sub[,1:4], 2, mean)
?apply
colnames(iris)
apply(iris[,1:4], 2, mean)
library(mtcars)
library(datasets)
data(mtcars)
?mtcars
x <- apply(mtcars[,1], mean)
x <- apply(mtcars[,1], 2, mean)
colnames(mtcars)
apply(mtcars[,1], mean)
x <- apply[mtcars, 2, mean]
x <- apply(mycars, 2, mean)
x <- apply(mtcars, 2, mean)
head(x)
x <- apply(mtcars[,1], 2, mean)
head(mtcars[,1])
tapply(mtcars$mpg, mtcars$cyl, mean)
str(tapply)
str(split)
colName(mtcars)
colnames(mtcarts)
colnames(mtcars)
tapply(mtcars$hp, mtcars$cyl, mean)
x <- tapply(mtcars$hp, mtcars$cyl, mean)
x
x[3]
x[3] - x[1]
x[1] - x[3]
debug(ls)
ls
x <- rnorm(10)
x
f1 <- gl(2,5)
f1
?gl
exit
q
ls
?browser
clear
?browser
x <- 10
x
x
x
ls
pwd
dir
dirnamne
dirname
dirname()
dir.create("test")
setwd("~/Coursera/Data Science/Getting and Cleaning Data")
setwd("~/Coursera/Data Science/Getting and Cleaning Data/")
dir.create("Quiz1")
setwd("Quiz1")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", "Idaho Housing.csv")
data <- read.csv("Idaho Housing.csv", colClasses="character")
str(data)
colnames(data)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FPUMSDataDict06.pdf", "Idaho Housing CodeBook.pdf")
values <- data[which[data$VAL >= 1000000],]
count(data[which[data$VAL >= 1000000],])
sum(data[which[data$VAL >= 1000000],])
head(data)
x <- data[which[data$VAL >= 1000000]]
data2 <- read.table("Idaho Housing.csv")
str(data2)
head(data2)
x <- data2[which[data$VAL >= 1000000]]
x <- data2[which[data2$VAL >= 1000000]]
x <- data[which(data$VAL >= 1000000),]
head(x)
count(x)
nrow(x)
x <- data[which(data$VAL >= 1000000),]
x <- data2[which(data2$VAL >= 1000000),]
nrow(x)
nrow(x)
data2 <- read.table("Idaho Housing.csv", quote = "")
x <- data2[which(data2$VAL >= 1000000),]
nrow(x)
colNames(data)
colnames(data)
sum(data$VAL > 1000000)
head(data, 1)
sum(data$VAL > 24)
sum(data$VAL == 24)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx", "Natural Gas Aquisition Program")
library(xlsx)
libray(xlsx)
library(xlsx)
install.packages("xlsx")
library("xlsx")
library("xlsx")
data <- read.xlsx("Natural Gas Aquisition Program")
data <- read.xlsx("Natural Gas Aquisition Program", sheetIndex = 1, header = TRUE)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx", "Natural Gas Aquisition Program.xlsx,", mode="wb")
data <- read.xlsx("Natural Gas Aquisition Program", sheetIndex = 1, header = TRUE)
data <- read.xlsx("Natural Gas Aquisition Program.xlsx", sheetIndex = 1, header = TRUE)
data <- read.xlsx("Natural Gas Aquisition Program.xlsx,", sheetIndex = 1, header = TRUE)
?skip
??skip
skip?
q
?skip
?head
colnames(data)
data <- read.xlsx("Natural Gas Aquisition Program.xlsx,", sheetIndex = 1, header = TRUE, colIndex = 7:15, rowIndex = 18:23)
sum(data$Zip*data$Ext, na.rm = T)
library(XML)
install.packages("XML")
library("XML")
fileURL <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc <- xmlTreeParse(fileUrl, useInternal=TRUE)
doc <- xmlTreeParse(fileURL, useInternal=TRUE)
colnames(data)
sum(data$Zip = 21231)
sum(data$Zip == 21231)
head(data)
str(data)
sum(data$Zip == 21231)
sum(data$Zip > 5)
sum(data$Zip >= 5)
sum(data$Zip >= 1)
data
fileURL
download.file(fileURL, "restaurants.xml")
data <- xmlTreeParse("restaurants.xml")
head(data)
str(data)
rootNode <-xmlRoot(data)
rootNode
xmlName(rootNode)
names(rootNode)
rootNode[[1]]
rootNode[[1]][[1]]
structure(data)
names(rootNode)
xmlName(rootNode)
rootNode[[1]]
rootNode[[2]]
rootNode[[1][1]]
rootNode[[1]][[1]]
rootNode[[1]][[1]]
xmlSApply(rootNode, xmlValue)
xmlSApply(rootNode[[1]], xmlValue)
xmlSApply(rootNode[[1]][[1]], xmlValue)
colnames(data)
colnames(rootNode)
colnames(data)
str(data)
rootNode[@attr-zipcode='21231']
rootNode[@attr-zipcode='21231']
/rootNode
xpathSApply(rootNode, "//zipcode", xmlValue)
xpathSApply(rootNode[[1]], "//zipcode", xmlValue)
xpathSApply(rootNode[[1]][[1]], "//zipcode", xmlValue)
xpathSApply(rootNode[[1]], "//zipcode", xmlValue)
data
rootNode <- xmlTreeParse(data)
rootNode <- xmlTreeParse("restaurants.xml")
rootNode[[1]][[1]]
rootNode <- rootNode[[1]]
rootNode[[1]][[1]]
rootNode <- rootNode[[1]]
rootNode[[1]]
rootNode[[1]][[1]]
xpathSApply(rootNode, "//zipcode", xmlValue)
xpathSApply(rootNode, "//name", xmlValue)
xpathSApply(rootNode[[1]], "//name", xmlValue)
attributes(rootNode)
summary(rootNode)
rootNode <- xmlTreeParse("restaurants.xml", useInternalNodes = TRUE)
xpathSApply(rootNode, "//zipcode", xmlValue)
rootNode <- xmlTreeParse("restaurants.xml", useInternalNodes = TRUE)
sum(xmlSApply(rootNode[@attr-zipcode='21231']))
zips <- xpathSApply(rootNode, "//zipcode", xmlValue)
sum(zips == 21231)
count(zips)
nrows(zips)
sum(zips)
zip <- as.numeric(zips)
sum(zip == 21231)
sum(zips==21231)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", "Idaho Housing2.csv")
DT <- fread("Idaho Housing2.csv")
set.seed(123)
DT <- data.table(x=sample(letters[1:3], 1E5, TRUE))
library(data.table)
install.packages(data.table)
install.packages("data.table")
library(data.table)
DF = data.frame(x=rnorm(9), y=rep(c("a", "b", "c"),each=3),z=rnorm(9))
head(DF, 3)
DF = data.table(x=rnorm(9), y=rep(c("a", "b", "c"),each=3),z=rnorm(9))
head(DF, 3)
tables()
DT[2,]
DT = data.table(x=rnorm(9), y=rep(c("a", "b", "c"),each=3),z=rnorm(9))
DT[2,]
DT[c(2,3),]
DT[c(1,3),]
DT[c(1,1),]
DT[c(1,1)]
DT[c(1)]
DT[c(1,4)]
DT[c(1,2)]
DT[,c(2,3)]
k = {print(10); 5}
DT
DT[,mean(x), sum(z)]
DT[,list(mean(x), sum(z))]
DT[,w:=y^2]
DT[,w:=z^2]
DT
DT1 <- data.table(x=c('a', 'b', 'c', 'dt1'), y=1:4)
DT2 <- data.table(x=c('a', 'b', 'dt2'), z=5:7)
setkey(DT1, x); setkey(DT2, x);
merge(DT1, DT2)
file <- fread("Idaho Housing2.csv")
head(file, 2)
system.time(fread("Idaho Housing2.csv"))
DT <- fread("Idaho Housing2.csv")
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
write.table(DT, file="Idaho Housing2.csv". row.names=FALSE, col.name=TRUE, sep="\t", quote=FALSE)
DT <- fred("Idaho Housing2.csv")
DT <- fread("Idaho Housing2.csv")
DT[,mean(pwgtp15),by=SEX]
system.time(DT[,mean(pwgtp15),by=SEX])
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", "IdahoHousing2")
?fread
DT <- fread("IdahoHousing2")
colnames(DT)
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15))
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15))
system.time(tapply(DT$pwgtp15,DT$SEX,mean))
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
system.time(rowMeans(DT)[DT$SEX==1] rowMeans(DT)[DT$SEX==2])
DT <- fread("IdahoHousing2", data.table = TRUE)
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
system.time(DT[,mean(pwgtp15),by=SEX])
str(DT)
file <- read.csv("IdahoHousing2")
DT <- fread(file)
bf <- read.table("IdahoHousing2")
file <- tempfile()
write.table(bf, file=file, row.names = FALSE, col.names = TRUE, sep = "\t", quote = FALSE)
fread(file)
system.time(file[,mean(pwgtp15),by=SEX])
system.time(file[,mean(pwgtp15),by=SEX])
colnames(file)
bf <- read.table("IdahoHousing2")
file <- tempfile()
write.table(bf, file=file, row.names = FALSE, col.names = TRUE, sep = "\t", quote = FALSE)
fread(file)
bf <- read.table("IdahoHousing2")
write.table(bf, file=file, row.names = FALSE, col.names = TRUE, sep = "\t", quote = FALSE)
fread(file)
library(data.table)
DT <- fread("IdahoHousing2")
system.time(DT <- fread("IdahoHousing2"))
bf <- read.table("IdahoHousing2")
file <- tempfile()
write.table(bf, file=file, row.names = FALSE, col.names = TRUE, sep = ",", quote = FALSE)
fread(file)
fread(file,fill = TRUE)
system.time(file[,mean(pwgtp15),by=SEX])
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(runif(3000^3)*3)
system.time(runif(3000^3, max=3))
file <- read.csv("IdahoHousing2")
fread(file)
bf <- read.csv("IdahoHousing2")
write.table(bf, file=file, row.names = FALSE, col.names = TRUE, sep = ",", quote = FALSE)
file <= tempfile()
write.table(bf, file=file, row.names = FALSE, col.names = TRUE, sep = ",", quote = FALSE)
file2 <= tempfile()
file2 <- tempfile()
write.table(bf, file=file2, row.names = FALSE, col.names = TRUE, sep = ",", quote = FALSE)
fread(file2)
system.time(file[,mean(pwgtp15),by=SEX])
?fread
DT <- fread("IdahoHousing2", sep = ",", header = TRUE)
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15)
DT <- fread("Idaho Housing.csv")
file = tempfile()
write.table(DT, file=file, row.names=FALSE, col.names=TRUE, sep=",", quote=FALSE
q
write.table(DT, file=file, row.names=FALSE, col.names=TRUE, sep=",", quote=FALSE)
system.time(rowMeans(DT)[DT$SEX==1]; rowMeans(DT)[DT$SEX==2])
system.time(DT[,mean(pwgtp15),by=SEX])
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileUrl, destfile="Idaho Housing.csv")
DT <- fread("Idaho Housing.csv")
file = tempfile()
write.table(DT, file=file, row.names=FALSE, col.names=TRUE, sep=",", quote=FALSE)
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean)
q
system.time(sapply(split(DT$pwgtp15,DT$SEX),mean))
system.time(mean(DT$pwgtp15,by=DT$SEX))
system.time(mean(DT[DT$SEX==1,]$pwgtp15); mean(DT[DT$SEX==2,]$pwgtp15))
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", "IdahoHousing.csv")
data <- read.csv("IdahoHousing.csv")
sum(data$VAL = 19)
sum(data$VAL == 19)
head(data)
sum(data$VAL == 19)
sum(data$VAL = 19)
sum(data$VAL==19)
sum(data$VAL==24)
sum(data$VAL==1)
str(data)
data <- read.table("IdahoHousing.csv", sep = ",", header = TRUE)
sum(data$VAL == 24)
sum(data$VAL)
data <- read.csv("IdahoHousing.csv")
sum(data$VAL == 24)
q
sum(data$VAL == 24)
sum(data$VAL == 24)
table(data)
